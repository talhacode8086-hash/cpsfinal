<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Keyboard Health Check - AssetsToolsHub</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="sidebar.css">
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        .tool-container {
            max-width: 1200px;
            margin: 0 auto;
            text-align: center;
        }

        .kb-container {
            background: #111;
            padding: 2rem;
            border-radius: 2rem;
            border: 1px solid var(--card-border);
            margin: 2rem 0;
            overflow-x: auto;
        }

        .kb-row {
            display: flex;
            justify-content: center;
            gap: 6px;
            margin-bottom: 6px;
        }

        .key {
            width: 50px;
            height: 50px;
            border: 1px solid #374151;
            border-radius: 6px;
            font-size: 0.8rem;
            font-weight: 700;
            color: #9ca3af;
            display: flex;
            align-items: center;
            justify-content: center;
            background: #1f2937;
            transition: 0.1s;
            user-select: none;
        }

        .key.active {
            background: #10b981;
            color: white;
            border-color: #059669;
        }

        .key.pressed {
            transform: scale(0.95);
            box-shadow: inset 0 0 10px rgba(0, 0, 0, 0.5);
        }

        /* Key Sizes */
        .w-1-5 {
            width: 75px;
        }

        .w-2 {
            width: 100px;
        }

        .w-2-5 {
            width: 120px;
        }

        .w-6 {
            width: 330px;
        }

        /* Spacebar */

        .status-bar {
            background: var(--card-bg);
            padding: 1rem 2rem;
            border-radius: 1rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border: 1px solid var(--card-border);
        }
    </style>
</head>

<body>
    <div class="main-content">
        <div class="tool-container">
            <h1 style="font-size: 2.5rem; font-weight:900; margin-bottom: 1rem;">Full Keyboard Health Check</h1>
            <p style="color:var(--text-muted); margin-bottom: 3rem;">Press every key to verify functionality. Green
                means good.</p>

            <div class="status-bar">
                <div style="text-align:left">
                    <div style="font-size:0.8rem; color:var(--text-muted); text-transform:uppercase">Keys Tested</div>
                    <div style="font-size:1.5rem; font-weight:800; color:var(--primary)" id="count">0 / 87</div>
                </div>
                <button class="join-pro-btn" style="padding:0.8rem 2rem" onclick="resetKB()">RESET TEST</button>
            </div>

            <div class="kb-container" id="keyboard">
                <!-- Row 1 -->
                <div class="kb-row">
                    <div class="key" data-code="Escape">ESC</div>
                    <div class="key" data-code="F1">F1</div>
                    <div class="key" data-code="F2">F2</div>
                    <div class="key" data-code="F3">F3</div>
                    <div class="key" data-code="F4">F4</div>
                    <div class="key" data-code="F5">F5</div>
                    <div class="key" data-code="F6">F6</div>
                    <div class="key" data-code="F7">F7</div>
                    <div class="key" data-code="F8">F8</div>
                    <div class="key" data-code="F9">F9</div>
                    <div class="key" data-code="F10">F10</div>
                    <div class="key" data-code="F11">F11</div>
                    <div class="key" data-code="F12">F12</div>
                    <div class="key" data-code="PrintScreen">PRT</div>
                    <div class="key" data-code="ScrollLock">SCR</div>
                    <div class="key" data-code="Pause">PAU</div>
                </div>

                <!-- Row 2 -->
                <div class="kb-row">
                    <div class="key" data-code="Backquote">`</div>
                    <div class="key" data-code="Digit1">1</div>
                    <div class="key" data-code="Digit2">2</div>
                    <div class="key" data-code="Digit3">3</div>
                    <div class="key" data-code="Digit4">4</div>
                    <div class="key" data-code="Digit5">5</div>
                    <div class="key" data-code="Digit6">6</div>
                    <div class="key" data-code="Digit7">7</div>
                    <div class="key" data-code="Digit8">8</div>
                    <div class="key" data-code="Digit9">9</div>
                    <div class="key" data-code="Digit0">0</div>
                    <div class="key" data-code="Minus">-</div>
                    <div class="key" data-code="Equal">=</div>
                    <div class="key w-2" data-code="Backspace">BACK</div>
                    <div class="key" data-code="Insert">INS</div>
                    <div class="key" data-code="Home">HOM</div>
                    <div class="key" data-code="PageUp">PGU</div>
                </div>

                <!-- Row 3 -->
                <div class="kb-row">
                    <div class="key w-1-5" data-code="Tab">TAB</div>
                    <div class="key" data-code="KeyQ">Q</div>
                    <div class="key" data-code="KeyW">W</div>
                    <div class="key" data-code="KeyE">E</div>
                    <div class="key" data-code="KeyR">R</div>
                    <div class="key" data-code="KeyT">T</div>
                    <div class="key" data-code="KeyY">Y</div>
                    <div class="key" data-code="KeyU">U</div>
                    <div class="key" data-code="KeyI">I</div>
                    <div class="key" data-code="KeyO">O</div>
                    <div class="key" data-code="KeyP">P</div>
                    <div class="key" data-code="BracketLeft">[</div>
                    <div class="key" data-code="BracketRight">]</div>
                    <div class="key w-1-5" data-code="Backslash">\</div>
                    <div class="key" data-code="Delete">DEL</div>
                    <div class="key" data-code="End">END</div>
                    <div class="key" data-code="PageDown">PGD</div>
                </div>

                <!-- Row 4 -->
                <div class="kb-row">
                    <div class="key w-2" data-code="CapsLock">CAPS</div>
                    <div class="key" data-code="KeyA">A</div>
                    <div class="key" data-code="KeyS">S</div>
                    <div class="key" data-code="KeyD">D</div>
                    <div class="key" data-code="KeyF">F</div>
                    <div class="key" data-code="KeyG">G</div>
                    <div class="key" data-code="KeyH">H</div>
                    <div class="key" data-code="KeyJ">J</div>
                    <div class="key" data-code="KeyK">K</div>
                    <div class="key" data-code="KeyL">L</div>
                    <div class="key" data-code="Semicolon">;</div>
                    <div class="key" data-code="Quote">'</div>
                    <div class="key w-2-5" data-code="Enter">ENTER</div>
                    <div style="width:50px"></div>
                    <div style="width:50px"></div>
                    <div style="width:50px"></div>
                </div>

                <!-- Row 5 -->
                <div class="kb-row">
                    <div class="key w-2-5" data-code="ShiftLeft">SHIFT</div>
                    <div class="key" data-code="KeyZ">Z</div>
                    <div class="key" data-code="KeyX">X</div>
                    <div class="key" data-code="KeyC">C</div>
                    <div class="key" data-code="KeyV">V</div>
                    <div class="key" data-code="KeyB">B</div>
                    <div class="key" data-code="KeyN">N</div>
                    <div class="key" data-code="KeyM">M</div>
                    <div class="key" data-code="Comma">,</div>
                    <div class="key" data-code="Period">.</div>
                    <div class="key" data-code="Slash">/</div>
                    <div class="key w-2-5" data-code="ShiftRight">SHIFT</div>
                    <div style="width:50px"></div>
                    <div class="key" data-code="ArrowUp">↑</div>
                    <div style="width:50px"></div>
                </div>

                <!-- Row 6 -->
                <div class="kb-row">
                    <div class="key w-1-5" data-code="ControlLeft">CTRL</div>
                    <div class="key" data-code="MetaLeft">WIN</div>
                    <div class="key w-1-5" data-code="AltLeft">ALT</div>
                    <div class="key w-6" data-code="Space">SPACE</div>
                    <div class="key w-1-5" data-code="AltRight">ALT</div>
                    <div class="key" data-code="MetaRight">FN</div>
                    <div class="key" data-code="ContextMenu">MNU</div>
                    <div class="key w-1-5" data-code="ControlRight">CTRL</div>
                    <div class="key" data-code="ArrowLeft">←</div>
                    <div class="key" data-code="ArrowDown">↓</div>
                    <div class="key" data-code="ArrowRight">→</div>
                </div>
            </div>

            <div id="last-press" style="height: 50px; font-weight:800; font-size:1.5rem; color: var(--primary)"></div>

            <div
                style="text-align:left; margin-top:2rem; background:rgba(255,255,255,0.02); padding:2rem; border-radius:1rem;">
                <h3>How to use</h3>
                <p style="color:var(--text-muted)">Press every key on your keyboard. Keys turn green once successfully
                    registered. If a key stays grey after pressing, the switch might be dead or the connection faulty.
                </p>
            </div>
        </div>
    </div>

    <script src="layout.js"></script>
    <script>
        const countEl = document.getElementById('count');
        const lastEl = document.getElementById('last-press');
        let pressed = new Set();

        // Prevent default actions for common keys to avoid navigating away
        window.addEventListener('keydown', (e) => {
            e.preventDefault();

            const code = e.code;
            const keyEl = document.querySelector(`.key[data-code="${code}"]`);

            if (keyEl) {
                keyEl.classList.add('active'); // Persistent green
                keyEl.classList.add('pressed'); // Visual feedback for current press
                pressed.add(code);
                countEl.innerText = `${pressed.size} / 87`;
                lastEl.innerText = `LAST PRESSED: ${code}`;

                // Add a sound? Maybe not for now.
            } else {
                lastEl.innerText = `UNKNOWN KEY: ${code}`;
            }
        });

        window.addEventListener('keyup', (e) => {
            const keyEl = document.querySelector(`.key[data-code="${e.code}"]`);
            if (keyEl) {
                keyEl.classList.remove('pressed');
            }
        });

        function resetKB() {
            pressed.clear();
            document.querySelectorAll('.key').forEach(k => {
                k.classList.remove('active');
                k.classList.remove('pressed');
            });
            countEl.innerText = "0 / 87";
            lastEl.innerText = "";
        }
    </script>
</body>

</html>